# SeuWebHelper
东南大学校内无线局域网自动登录脚本，防电脑断链，永久保持在线

# Updates

* 1128 新增对命令行参数调用的支持
* 1128 修复长时间定时KeepAlive可能导致计时器失效的问题

# Requirements

请使用Python3.5以上版本

# Tutorial

## 一般操作

安装`requirements.txt`中的依赖包，安装代码如下，请务必在本脚本文件夹下，使用管理员权限打开命令提示符，输入以下命令。

	pip install -r requirements.txt

依赖包安装后，请编辑`main.py`中的内容，将其中的用户名密码替换成自己的，然后根据实际情况取消下面几行控制代码的注释

举例：每15分钟维护一次登录状态，发现被踢出后，自动重登录。

	helper = seuhelper("220170000", "123456") <- 这里是你的用户名密码，用来生成登录器对象

	# 单次操作：登录账户
	# helper.command_login()

	# 单次操作：注销账户
	# helper.command_logout()

	# 部署：10分钟检测一次登录状态，注销的话就自动重登
	helper.keep_alive(15) <- 这边需要取消注释，这样就可以激活操作：每15分钟更新一次登录状态，防掉线 （里面数字为分钟单位）
  
修改后请保存脚本，在当前文件夹下打开命令提示符，运行

	python main.py

此时只需将命令提示符最小化，脚本会自动地每15分钟检查一下你的登录状态，若被校园网踢出，脚本会自动重新登录！

本脚本还支持单次登录、单次注销两个额外功能，一般用来测试，对本脚本感兴趣的同学可以自行研究一下。

## 新增：命令行调用

1128更新的命令行参数调用模式允许用户使用命令行参数控制脚本动作。

举例来说，学号220170000，密码123456的同学想要以15分钟间隔保持自己的校园网在线状态，他可以运行以下代码：

	python main.py 220170000 123456 15

如果他输入的是：

	python main.py 220170000 123456

脚本会默认他想要的检测间隔是10分钟。

当然，命令行还支持无参数运行，此时就变得和`一般操作`一样了，需要用户打开`main.py`自行编辑里面的控制代码，详见上一节。

## 省力操作

上面的方法如果还觉得比较麻烦，有一个更加快捷的方案提供给各位。

在修改过`main.py`后（这一步必不可少，不然脚本的核心代码默认情况下都是注释掉的），可以直接双击`run.bat`批处理文件运行此脚本，根本就不用再每次自己打开命令行。

![运行效果图](https://github.com/leyuwei/SeuWebHelper/blob/master/snapshot.png)

如果你想更加方便一点，可以在`run.bat`文件上右键->发送到桌面快捷方式，在桌面快捷方式上就可以直接双击运行打开脚本。（P.S.桌面快捷方式支持修改名称和图标，可以让脚本看起来更像个普通的软件，上图的标题和图标就是修改后的结果。）
